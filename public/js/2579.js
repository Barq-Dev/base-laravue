"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2579],{22579:(a,t,e)=>{e.r(t),e.d(t,{default:()=>p});var n=e(77792),l=e(8093),r=e(39922),s=e(36553);const o={props:["form","dialog"],components:{BarqunDatePicker:l.Z,BarqunVSelect:r.Z,TextField:s.Z},data:function(){return{tahun_ajaran:[]}},methods:{handleFileUpload:function(a){this.form["file_"+a]=this.$refs[a].getFiles().length?this.$refs[a].getFiles()[0].file:null},getFiles:function(a){return this.form.id&&this.form[a]?["/storage/uploads/foto/"+this.form[a]]:""}}};var i=e(51900);const m=(0,i.Z)(o,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("label",{attrs:{for:""}},[e("b",[a._v("DATA UMUM")])])]),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"2"}},[e("file-pond",{ref:"foto",attrs:{"label-idle":"Foto","accepted-file-types":"image/jpeg, image/png",files:a.getFiles("foto"),allowDownloadByUrl:!0},on:{updatefiles:function(t){return a.handleFileUpload("foto")}}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"10"}},[e("TextField",{ref:"firstInput",attrs:{name:"nama",label:"Nama",form:a.form,required:"",autofocus:""}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[e("TextField",{attrs:{name:"tempat_lahir",label:"Tempat Lahir",form:a.form,required:""}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[e("BarqunDatePicker",{attrs:{label:"Tanggal Lahir",picker:"YEAR",field:"tgl_lahir",form:a.form,required:""}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[e("BarqunVSelect",{attrs:{name:"agama",form:a.form,items:["Islam","Protestan","Katolik","Hindu","Budha","Konghucu"],itemValue:"value",itemText:"key",label:"Agama",required:"",clearable:"","hide-details":""}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[e("BarqunVSelect",{attrs:{name:"jekel",form:a.form,items:["Laki-laki","Perempuan"],itemValue:"value",itemText:"key",label:"Jenis Kelamin",required:"",clearable:""}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[e("v-text-field",{attrs:{label:"Status"},model:{value:a.form.status,callback:function(t){a.$set(a.form,"status",t)},expression:"form.status"}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-textarea",{attrs:{outlined:"",height:"50",rules:[function(a){return!!a||"Required."}],error:!1},scopedSlots:a._u([{key:"label",fn:function(){return[a._v("\n          Alamat\n          "),e("span",{staticClass:"red--text"},[e("strong",[a._v(" *")])])]},proxy:!0}]),model:{value:a.form.alamat,callback:function(t){a.$set(a.form,"alamat",t)},expression:"form.alamat"}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("label",{attrs:{for:""}},[e("b",[a._v("DATA PENAHANAN")])])]),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-text-field",{attrs:{label:"Pasal Dilanggar"},model:{value:a.form.pasal_dilanggar,callback:function(t){a.$set(a.form,"pasal_dilanggar",t)},expression:"form.pasal_dilanggar"}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("v-text-field",{attrs:{label:"SP Penahanan"},model:{value:a.form.sprin_penahanan,callback:function(t){a.$set(a.form,"sprin_penahanan",t)},expression:"form.sprin_penahanan"}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("BarqunDatePicker",{attrs:{label:"Tanggal",picker:"YEAR",field:"tgl_sprin_penahanan",form:a.form}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("v-text-field",{attrs:{label:"Perpanjangan Penahanan"},model:{value:a.form.perpanjangan_penahanan,callback:function(t){a.$set(a.form,"perpanjangan_penahanan",t)},expression:"form.perpanjangan_penahanan"}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("BarqunDatePicker",{attrs:{label:"Tanggal",picker:"YEAR",field:"tgl_perpanjangan_penahanan",form:a.form}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("v-text-field",{attrs:{label:"SP Pengeluaran Tahanan"},model:{value:a.form.sprin_pengeluaran_tahanan,callback:function(t){a.$set(a.form,"sprin_pengeluaran_tahanan",t)},expression:"form.sprin_pengeluaran_tahanan"}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("BarqunDatePicker",{attrs:{label:"Tanggal",picker:"YEAR",field:"tgl_sprin_pengeluaran_tahanan",form:a.form}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("v-text-field",{attrs:{label:"Status Penahanan"},model:{value:a.form.status_penahanan,callback:function(t){a.$set(a.form,"status_penahanan",t)},expression:"form.status_penahanan"}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("BarqunVSelect",{attrs:{autocomplete:"",name:"tempat_penahanan_id",form:a.form,url:"tempat-tahanan",itemValue:"id",itemText:"nama",label:"Tempat Penahanan",required:""}})],1)],1)],1)}),[],!1,null,null,null).exports,c={components:{DataTable:n.Z,ModulForm:m},data:function(){return{datatable:{moduleName:"Tahanan",formData:!0,params:{with:["tempat","creator"],tempat_penahanan_id:null},btnExport:!0,headers:[{text:"Foto",value:"foto",slot:!0,width:10},{text:"Data Diri",value:"nama",width:"80%",slot:!0},{text:"Pasal Dilanggar",value:"pasal_dilanggar"},{text:"SPRIN Penahanan",value:"sprin_penahanan",slot:!0},{text:"Perpanjangan Penahanan",value:"perpanjangan_penahanan",slot:!0},{text:"SPRIN Pengeluaran Penahanan",value:"sprin_pengeluaran_tahanan",slot:!0},{text:"Status",value:"status_penahanan",slot:!0},{text:"Tempat Penahanan",value:"tempat.nama",slot:!0},{text:"Pembuat",value:"creator.name"},{text:"Actions",value:"actions",align:"center",sortable:!1}]}}},computed:{filteredPasal:function(){return this.pasal_dilanggar}}};const p=(0,i.Z)(c,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-card",{attrs:{elevation:"2"}},[e("DataTable",a._b({attrs:{hasFilter:""},scopedSlots:a._u([{key:"filter",fn:function(t){var n=t.load,l=t.params;return[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("v-select",{attrs:{items:["Laki-laki","Perempuan"],label:"Jenis Kelamin",clearable:""},on:{input:n},model:{value:l.jekel,callback:function(t){a.$set(l,"jekel",t)},expression:"params.jekel"}})],1),a._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("v-autocomplete",{staticClass:"mr-2",attrs:{dense:"",clearable:"",items:a.filteredPasal,"prepend-icon":"filter_alt",label:"Pasal Dilanggar","hide-details":""},on:{input:n},model:{value:l.filter_pasal_dilanggar,callback:function(t){a.$set(l,"filter_pasal_dilanggar",t)},expression:"params.filter_pasal_dilanggar"}})],1)],1)]}},{key:"modal-form",fn:function(a){var t=a.editedItem,n=a.save,l=a.dialog;return[e("ModulForm",{attrs:{form:t,dialog:l},on:{save:n}})]}},{key:"foto",fn:function(a){var t=a.item;return[e("v-btn",{attrs:{icon:""}},[e("v-list-item-avatar",[e("v-img-preview",{attrs:{width:"90",src:t.foto_link,alt:"Foto"}})],1)],1)]}},{key:"sprin_penahanan",fn:function(t){var n=t.item;return[e("b",[a._v(" "+a._s(n.sprin_penahanan))]),a._v(" "),e("div",{staticClass:"text-caption"},[a._v("\n        "+a._s(n.tgl_sprin_penahanan&&a.$moment(n.tgl_sprin_penahanan).format("DD-MM-Y"))+"\n      ")])]}},{key:"perpanjangan_penahanan",fn:function(t){var n=t.item;return[e("b",[a._v(" "+a._s(n.perpanjangan_penahanan))]),a._v(" "),e("div",{staticClass:"text-caption"},[a._v("\n        "+a._s(n.tgl_perpanjangan_penahanan&&a.$moment(n.tgl_perpanjangan_penahanan).format("DD-MM-Y"))+"\n      ")])]}},{key:"sprin_pengeluaran_tahanan",fn:function(t){var n=t.item;return[e("b",[a._v(" "+a._s(n.sprin_pengeluaran_tahanan))]),a._v(" "),e("div",{staticClass:"text-caption"},[a._v("\n        "+a._s(n.tgl_sprin_pengeluaran_tahanan&&a.$moment(n.tgl_sprin_pengeluaran_tahanan).format("DD-MM-Y"))+"\n      ")])]}},{key:"nama",fn:function(t){var n=t.item;return[e("div",{staticClass:"text-caption"},[e("b",[a._v("\n          "+a._s(n.nama)+"\n        ")]),a._v("\n        ,\n        "+a._s(n.jekel)+", "+a._s(n.tempat_lahir)+" ("+a._s(n.tgl_lahir&&a.$moment(n.tgl_lahir).format("DD-MM-Y"))+"),\n        ")]),a._v(" "),e("div",{staticClass:"text-caption"},[a._v("Status : "+a._s(n.status))])]}}])},"DataTable",a.datatable,!1))],1)}),[],!1,null,null,null).exports}}]);