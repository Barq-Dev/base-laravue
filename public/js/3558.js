"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3558],{78649:(t,e,r)=>{r.d(e,{Z:()=>a});var i=r(23645),n=r.n(i)()((function(t){return t[1]}));n.push([t.id,".clickable:hover{cursor:pointer}",""]);const a=n},36865:(t,e,r)=>{r.d(e,{Z:()=>l});const i={props:["items"],data:function(){return{search:"",loading:!1,selection:[]}},methods:{reserve:function(t){this.$router.push({path:"peminjaman-buku",query:{buku_id:t.id}})}},computed:{filteredData:function(){var t=this;return this.search?this.items.filter((function(e){return e.title.toLowerCase().includes(t.search)})):this.items}}};var n=r(93379),a=r.n(n),o=r(78649),s={insert:"head",singleton:!1};a()(o.Z,s);o.Z.locals;const l=(0,r(51900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",[e("v-row",{staticClass:"mx-2"},[e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-text-field",{staticClass:"mr-2",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),t.filteredData.length?e("v-row",{staticClass:"ma-2"},t._l(t.filteredData,(function(r,i){return e("v-col",{key:i,attrs:{cols:"12",sm:"12",md:"3"}},[e("v-card",{attrs:{loading:t.loading}},[e("template",{slot:"progress"},[e("v-progress-linear",{attrs:{color:"deep-purple",height:"10",indeterminate:""}})],1),t._v(" "),e("v-img",{staticClass:"clickable",attrs:{height:"250",src:r.image_link},on:{click:function(e){return t.$emit("click",r)}}}),t._v(" "),e("v-card-title",{class:{subheading:t.$vuetify.breakpoint.xs}},[t._v(t._s(r.title))]),t._v(" "),e("v-card-text",[e("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[e("div",{staticClass:"text-subtitle-1"},[t._v("\n              "+t._s(r.author)+" • "+t._s(r.tahun)+" • "+t._s(r.penerbit)+"\n            ")])]),t._v(" "),e("div",{staticClass:"my-4 text-subtitle-1"},[r.tags&&r.tags.length?t._l(r.tags,(function(r,i){return e("span",{key:i,staticClass:"grey--text"},[t._v("#"+t._s(r)+",\n              ")])})):e("span",{staticClass:"grey--text"},[t._v(" #no-tags")])],2)],1),t._v(" "),e("v-divider",{staticClass:"mx-4"}),t._v(" "),e("v-card-actions",[e("v-btn",{staticClass:"white--text",attrs:{disabled:!r.stock,depressed:"",small:"",color:"green"},on:{click:function(e){return t.reserve(r)}}},[e("v-icon",[t._v("shopping_bag")]),t._v("\n            Pinjam\n          ")],1),t._v(" "),e("v-spacer"),t._v(" "),e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on,a=i.attrs;return[e("v-chip",t._g(t._b({attrs:{color:r.stock?"info":"warning",small:""}},"v-chip",a,!1),n),[t._v("\n                "+t._s(r.stock||0)+"\n                "),e("v-icon",{attrs:{small:"",right:""}},[t._v("book")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v(t._s(r.stock?"Tersedia ".concat(r.stock," buku"):"Buku Kosong"))])])],1)],2)],1)})),1):e("div",{staticClass:"text-center mt-2"},[e("img",{attrs:{width:"500",src:"/images/empty.png"}}),t._v(" "),e("h3",{staticClass:"mb-3 grey--text"},[t._v("Tidak ada data")])]),t._v(" "),e("div",{staticClass:"text-center"},[e("v-container",[e("v-row",{attrs:{justify:"center"}},[e("v-col",{attrs:{cols:"8"}},[e("v-container",{staticClass:"max-width"},[e("v-pagination",{staticClass:"my-4",attrs:{length:t.$store.state.base.options.last_page},model:{value:t.$store.state.base.options.current_page,callback:function(e){t.$set(t.$store.state.base.options,"current_page",e)},expression:"$store.state.base.options.current_page"}})],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports},3558:(t,e,r)=>{r.r(e),r.d(e,{default:()=>P});var i=r(47130),n=r(20629),a=r(69074),o=r(19934);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const m={props:["form","dialog"],components:{BarqunDatePicker:a.Z,BarqunVSelect:o.Z},data:function(){return{tahun_ajaran:[]}},methods:c(c({},(0,n.OI)("base",["CLEAR_ERRORS"])),{},{handleFileUpload:function(t){this.form["file_"+t]=this.$refs[t].getFiles().length?this.$refs[t].getFiles()[0].file:null},getFiles:function(t){return this.form.id&&this.form[t]?["/storage/uploads/foto/"+this.form[t]]:""}}),mounted:function(){},watch:{dialog:function(t){t?(this.CLEAR_ERRORS(),this.getTahunAjaran()):this.$store.dispatch("auth/auth")}},computed:c({},(0,n.rn)("base",["errors"]))};var d=r(51900);const f=(0,d.Z)(m,(function(){var t=this,e=t._self._c;return e("div",[t._.isEmpty(t.errors)?t._e():e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-alert",{attrs:{border:"top",color:"red lighten-2",dark:""}},[e("ul",t._l(t.errors,(function(r){return e("li",{key:r[0]},[t._v(t._s(r[0]))])})),0)])],1)],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"2",sm:"12",md:"2"}},[e("file-pond",{ref:"image",attrs:{"label-idle":"Drop files here or browse","accepted-file-types":"image/jpeg, image/png",files:t.getFiles("image"),allowDownloadByUrl:!0},on:{updatefiles:function(e){return t.handleFileUpload("image")}}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"10"}},[e("v-text-field",{attrs:{label:"Judul"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("v-text-field",{attrs:{label:"Kode"},model:{value:t.form.kode,callback:function(e){t.$set(t.form,"kode",e)},expression:"form.kode"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("v-text-field",{attrs:{label:"Penulis"},model:{value:t.form.author,callback:function(e){t.$set(t.form,"author",e)},expression:"form.author"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("v-text-field",{attrs:{label:"Penerbit"},model:{value:t.form.penerbit,callback:function(e){t.$set(t.form,"penerbit",e)},expression:"form.penerbit"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("v-text-field",{attrs:{label:"Tahun"},model:{value:t.form.tahun,callback:function(e){t.$set(t.form,"tahun",e)},expression:"form.tahun"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("v-text-field",{attrs:{type:"number",min:"0",label:"Stock"},model:{value:t.form.stock,callback:function(e){t.$set(t.form,"stock",e)},expression:"form.stock"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("BarqunVSelect",{attrs:{combobox:"",multiple:"",clearable:"","small-chips":"",name:"tags",form:t.form,url:"buku",label:"Tags",params:{pluck:["tags"]}}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-textarea",{attrs:{label:"Deskripsi"},model:{value:t.form.deskripsi,callback:function(e){t.$set(t.form,"deskripsi",e)},expression:"form.deskripsi"}})],1)],1)],1)}),[],!1,null,null,null).exports;function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==v(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===v(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const h={props:["id"],data:function(){return{search:"",headers:[]}},mounted:function(){this.load()},computed:b(b({},(0,n.rn)("base",["loading","item"])),{},{filteredItem:function(){return this._.difference(Object.keys(this.item),["id","deskripsi","image","image_link","peminjaman","created_at","updated_at"])}}),watch:{id:function(){this.load()}},methods:b(b({},(0,n.nv)("base",["getData"])),{},{load:function(){this.getData({customUrl:"buku",id:this.id||this.$route.params.id,params:{with:["peminjaman.pesertaDidik"]}})}})};const y=(0,d.Z)(h,(function(){var t=this,e=t._self._c;return e("div",[e("v-card",{attrs:{loading:t.loading}},[e("v-card-title",{staticClass:"sticky blue white--text",attrs:{"primary-title":""}},[t._v("\n      Detail Buku\n      "),e("v-spacer")],1),t._v(" "),e("v-divider"),t._v(" "),e("div",{staticClass:"pa-5"},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[e("v-img",{attrs:{width:"400",src:t.item.image_link}})],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"12",md:"8"}},[e("v-card-title",{staticClass:"blue white--text",attrs:{"primary-title":""}},[t._v("\n            Data Buku\n          ")]),t._v(" "),t._.isEmpty(t.item)?t._e():e("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("tbody",t._l(t.filteredItem,(function(r,i){return e("tr",{key:i},[e("td",{attrs:{width:"10"}},[t._v(t._s(t._.startCase(r)))]),t._v(" "),e("td",{attrs:{width:"10"}},[t._v(":")]),t._v(" "),e("td",[t._v(t._s(t.item[r]))])])})),0)]},proxy:!0}],null,!1,3052676482)})],1),t._v(" "),t.item.deskripsi?e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("h3",[t._v("Deskipsi :")]),t._v(" "),e("p",{attrs:{align:"justify"}},[t._v(t._s(t.item.deskripsi))])]):t._e()],1)],1)],1)],1)}),[],!1,null,null,null).exports;function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==_(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==_(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const x={data:function(){return{item:{},dialog:!1}},components:{CardGrid:r(36865).Z,ModulShow:y},created:function(){this.$store.commit("base/SET_MODULE_NAME","Buku"),this.getData({params:{sisa_stock:!0}})},computed:w({},(0,n.rn)("base",["items"])),methods:w(w({},(0,n.nv)("base",["getData"])),{},{clicked:function(t){this.item=t,this.dialog=!0}})};const j=(0,d.Z)(x,(function(){var t=this,e=t._self._c;return e("div",[e("CardGrid",{attrs:{items:t.items},on:{click:t.clicked}}),t._v(" "),e("v-dialog",{attrs:{"max-width":"80%",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.item.id?e("ModulShow",{attrs:{id:t.item.id}}):t._e()],1)],1)}),[],!1,null,null,null).exports,S={components:{DataTable:i.Z,ModulForm:f,ModulShow:y,GridList:j},data:function(){return{dialog:!1,pic:null,tab:null,datatable:{ref:"table",btnShow:!0,clickable:!0,formData:!0,moduleName:"Buku",slots:["status","image"],headers:[{text:"#",value:"num"},{text:"",value:"image"},{text:"Judul",value:"title"},{text:"Penulis/Pengarang",value:"author"},{text:"#Tags",value:"tags"},{text:"Actions",value:"actions",align:"center",sortable:!1}],params:{sortby:"status"}}}},methods:{gridItemClicked:function(t){console.log(this.$refs.table,t)},openPic:function(t){this.dialog=!0,this.pic=t},cancel:function(){this.dialog=!1}}};const P=(0,d.Z)(S,(function(){var t=this,e=t._self._c;return e("v-card",{attrs:{elevation:"2"}},[e("v-tabs",{attrs:{"background-color":"red lighten-2",dark:"","slider-color":"yellow"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab",[e("v-icon",{attrs:{left:""}},[t._v(" mdi-view-grid ")]),t._v("\n      Daftar\n    ")],1),t._v(" "),e("v-tab",[e("v-icon",{attrs:{left:""}},[t._v(" mdi-table ")]),t._v("\n      Table\n    ")],1)],1),t._v(" "),e("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab-item",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("GridList",{on:{click:t.gridItemClicked}})],1)],1)],1),t._v(" "),t.tab?e("v-tab-item",[e("DataTable",t._b({scopedSlots:t._u([{key:"modal-form",fn:function(t){var r=t.editedItem,i=t.save,n=t.dialog;return[e("ModulForm",{attrs:{form:r,dialog:n},on:{save:i}})]}},{key:"modal-show",fn:function(r){var i=r.editedItem;return[i.id?e("ModulShow",{attrs:{id:i.id}}):t._e()]}},{key:"image",fn:function(r){var i=r.item;return[e("v-btn",{attrs:{icon:""}},[e("v-list-item-avatar",[e("v-dialog",{attrs:{"max-width":"30%"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel.apply(null,arguments)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-img",{attrs:{src:t.pic,alt:"",contain:""}})],1)],1),t._v(" "),e("img",{attrs:{width:"90",src:i.image_link,alt:"image",contain:""},on:{click:function(e){return t.openPic(i.image_link)}}})],1)],1)]}},{key:"status",fn:function(r){var i=r.item;return[e("v-btn",{attrs:{rounded:"","x-small":"",color:"Aktif"==i.status?"success":"blue-grey",dark:""}},["Tidak Aktif"==i.status?e("v-icon",{attrs:{dark:"",left:""}},[t._v("\n              mdi-minus-circle\n            ")]):t._e(),t._v("\n            "+t._s(i.status)+"\n            "),"Aktif"==i.status?e("v-icon",{attrs:{dark:"",right:""}},[t._v("\n              mdi-checkbox-marked-circle\n            ")]):t._e()],1)]}}],null,!1,302211920)},"DataTable",t.datatable,!1))],1):t._e()],1)],1)}),[],!1,null,null,null).exports}}]);